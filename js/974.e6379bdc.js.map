{"version":3,"file":"js/974.e6379bdc.js","mappings":"0KAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACJ,EAAIK,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAA4B,IAA1BJ,EAAIM,KAAKC,MAAMC,OAAcN,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACJ,EAAIK,GAAG,GAAGH,EAAG,QAAQF,EAAIS,GAAIT,EAAIM,KAAKC,OAAO,SAASG,GAAM,OAAOR,EAAG,KAAK,CAACS,IAAID,EAAKE,IAAI,CAACV,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,+BAA+BS,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,eAAeN,EAAKE,GAAG,IAAI,CAACV,EAAG,IAAI,CAACE,YAAY,yBAAyBF,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACJ,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGR,EAAKS,QAAQC,OAAO,KAAMV,EAAKW,OAAQnB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACJ,EAAIiB,GAAG,cAAcjB,EAAIsB,OAAOpB,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACE,YAAY,yDAAyDU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIuB,SAASb,EAAKE,GAAIF,EAAKS,QAAQP,GAAIF,EAAKc,IAAI,IAAI,CAACtB,EAAG,IAAI,CAACE,YAAY,mBAAmBF,EAAG,SAAS,CAACE,YAAY,kDAAkDS,MAAM,CAAC,GAAK,aAAaC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOf,EAAIyB,kBAAkBf,EAAKE,GAAIF,EAAKS,QAAQP,GAAIG,EAAO,IAAI,CAACb,EAAG,SAAS,CAACW,MAAM,CAAC,SAAW,GAAG,SAAW,KAAK,CAACb,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGR,EAAKc,KAAK,OAAOxB,EAAIS,GAAI,IAAI,SAASiB,GAAQ,OAAOxB,EAAG,SAAS,CAACS,IAAIe,EAAOC,SAAS,CAAC,MAAQD,IAAS,CAAC1B,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGQ,GAAQ,MAAM,KAAI,GAAGxB,EAAG,SAAS,CAACE,YAAY,yDAAyDU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI4B,OAAOlB,EAAKE,GAAIF,EAAKS,QAAQP,GAAIF,EAAKc,IAAI,IAAI,CAACtB,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,KAAK,CAACE,YAAY,0BAA0ByB,MAAM,CAAE,eAAgBnB,EAAKW,SAAU,CAACrB,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGlB,EAAI8B,GAAG,WAAP9B,CAAmBU,EAAKqB,cAAc,QAAQ,IAAG,GAAG7B,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,aAAaS,MAAM,CAAC,QAAU,MAAM,CAACb,EAAIiB,GAAG,WAAWf,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGlB,EAAI8B,GAAG,WAAP9B,CAAmBA,EAAIM,KAAK0B,QAAQ,SAAUhC,EAAIM,KAAK0B,QAAUhC,EAAIM,KAAKyB,YAAa7B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,0BAA0BS,MAAM,CAAC,QAAU,MAAM,CAACb,EAAIiB,GAAG,WAAWf,EAAG,KAAK,CAACE,YAAY,2BAA2B,CAACJ,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGlB,EAAI8B,GAAG,WAAP9B,CAAmBA,EAAIM,KAAKyB,cAAc,SAAS/B,EAAIsB,WAAWpB,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAIqC,YAAaC,WAAW,gBAAgBlC,YAAY,eAAeS,MAAM,CAAC,KAAO,OAAO,YAAc,UAAUc,SAAS,CAAC,MAAS3B,EAAIqC,aAAcvB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwB,OAAOC,YAAiBxC,EAAIqC,YAAYtB,EAAOwB,OAAOH,MAAK,KAAKlC,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,wBAAwBS,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQd,EAAIyC,gBAAgB,CAACzC,EAAIiB,GAAG,mBAAmBf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACJ,EAAIiB,GAAG,uBAAuBf,EAAG,cAAc,CAACE,YAAY,kCAAkCS,MAAM,CAAC,GAAK,cAAc,CAACb,EAAIiB,GAAG,aAAa,SAASf,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACJ,EAAIK,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,qBAAqB,CAACE,YAAY,YAAYsC,YAAY1C,EAAI2C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,UAAS,QAAEC,IAAW,MAAO,CAAC3C,EAAG,OAAO,CAACY,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAO+B,iBAAwB9C,EAAI+C,YAAYC,MAAM,KAAMC,UAAU,IAAI,CAAC/C,EAAG,qBAAqB,CAACW,MAAM,CAAC,MAAQ,kBAAkB6B,YAAY1C,EAAI2C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,UAAS,OAAEM,EAAM,QAAEC,IAAW,MAAO,CAACjD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,cAAc,CAACX,EAAG,IAAI,CAACE,YAAY,oBAAoBJ,EAAIiB,GAAG,iBAAiBf,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAIoD,KAAKC,KAAKC,MAAOhB,WAAW,oBAAoBlC,YAAY,eAAeyB,MAAMsB,EAAQtC,MAAM,CAAC,GAAK,YAAY,KAAO,SAAS,KAAO,QAAQ,YAAc,YAAY,SAAWb,EAAIuD,YAAY5B,SAAS,CAAC,MAAS3B,EAAIoD,KAAKC,KAAKC,OAAQxC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwB,OAAOC,WAAiBxC,EAAIwD,KAAKxD,EAAIoD,KAAKC,KAAM,QAAStC,EAAOwB,OAAOH,MAAM,KAAKlC,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGgC,EAAO,SAAS,IAAI,MAAK,KAAQhD,EAAG,qBAAqB,CAACW,MAAM,CAAC,MAAQ,YAAY6B,YAAY1C,EAAI2C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,UAAS,OAAEM,EAAM,QAAEC,IAAW,MAAO,CAACjD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,aAAa,CAACX,EAAG,IAAI,CAACE,YAAY,gBAAgBJ,EAAIiB,GAAG,iBAAiBf,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAIoD,KAAKC,KAAKnB,KAAMI,WAAW,mBAAmBlC,YAAY,eAAeyB,MAAMsB,EAAQtC,MAAM,CAAC,GAAK,WAAW,KAAO,OAAO,KAAO,OAAO,YAAc,OAAO,SAAWb,EAAIuD,YAAY5B,SAAS,CAAC,MAAS3B,EAAIoD,KAAKC,KAAKnB,MAAOpB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwB,OAAOC,WAAiBxC,EAAIwD,KAAKxD,EAAIoD,KAAKC,KAAM,OAAQtC,EAAOwB,OAAOH,MAAM,KAAKlC,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGgC,EAAO,SAAS,IAAI,MAAK,KAAQhD,EAAG,qBAAqB,CAACE,YAAY,aAAaS,MAAM,CAAC,MAAQ,oBAAoB6B,YAAY1C,EAAI2C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,UAAS,OAAEM,EAAM,QAAEC,IAAW,MAAO,CAACjD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,YAAY,CAACX,EAAG,IAAI,CAACE,YAAY,iBAAiBJ,EAAIiB,GAAG,iBAAiBf,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAIoD,KAAKC,KAAKI,IAAKnB,WAAW,kBAAkBlC,YAAY,eAAeyB,MAAMsB,EAAQtC,MAAM,CAAC,GAAK,UAAU,KAAO,MAAM,YAAc,QAAQ,KAAO,WAAW,SAAWb,EAAIuD,YAAY5B,SAAS,CAAC,MAAS3B,EAAIoD,KAAKC,KAAKI,KAAM3C,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwB,OAAOC,WAAiBxC,EAAIwD,KAAKxD,EAAIoD,KAAKC,KAAM,MAAOtC,EAAOwB,OAAOH,MAAM,KAAKlC,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGgC,EAAO,SAAS,IAAI,MAAK,KAAQhD,EAAG,qBAAqB,CAACE,YAAY,aAAaS,MAAM,CAAC,MAAQ,YAAY6B,YAAY1C,EAAI2C,GAAG,CAAC,CAAChC,IAAI,UAAUiC,GAAG,UAAS,OAAEM,EAAM,QAAEC,IAAW,MAAO,CAACjD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,gBAAgB,CAACX,EAAG,IAAI,CAACE,YAAY,0BAA0BJ,EAAIiB,GAAG,iBAAiBf,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAIoD,KAAKC,KAAKK,QAASpB,WAAW,sBAAsBlC,YAAY,eAAeyB,MAAMsB,EAAQtC,MAAM,CAAC,GAAK,cAAc,KAAO,OAAO,KAAO,UAAU,YAAc,QAAQ,SAAWb,EAAIuD,YAAY5B,SAAS,CAAC,MAAS3B,EAAIoD,KAAKC,KAAKK,SAAU5C,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwB,OAAOC,WAAiBxC,EAAIwD,KAAKxD,EAAIoD,KAAKC,KAAM,UAAWtC,EAAOwB,OAAOH,MAAM,KAAKlC,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGgC,EAAO,SAAS,IAAI,MAAK,KAAQhD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACW,MAAM,CAAC,IAAM,YAAY,CAACX,EAAG,IAAI,CAACE,YAAY,wBAAwBJ,EAAIiB,GAAG,UAAUf,EAAG,WAAW,CAAC+B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpC,EAAIoD,KAAKO,QAASrB,WAAW,iBAAiBlC,YAAY,eAAeS,MAAM,CAAC,GAAK,UAAU,KAAO,GAAG,KAAO,KAAK,KAAO,KAAK,SAAWb,EAAIuD,YAAY5B,SAAS,CAAC,MAAS3B,EAAIoD,KAAKO,SAAU7C,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwB,OAAOC,WAAiBxC,EAAIwD,KAAKxD,EAAIoD,KAAM,UAAWrC,EAAOwB,OAAOH,MAAM,OAAOlC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,uBAAuBS,MAAM,CAAC,KAAO,SAAS,SAAWb,EAAIuD,YAAcV,IAAU,CAAC7C,EAAIiB,GAAG,eAAe,GAAG,QAAQ,MAC1uO,EACI2C,EAAkB,CAAC,WAAY,IAAI5D,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,8BAA8B,CAACJ,EAAIiB,GAAG,cACxK,EAAE,WAAY,IAAIjB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACF,EAAG,MAAMA,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIiB,GAAG,YAAYf,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIiB,GAAG,UAAUf,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIiB,GAAG,WAC7P,EAAE,WAAY,IAAIjB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,8BAA8B,CAACJ,EAAIiB,GAAG,aACnJ,G,mBC6SA,GACAiB,KAAA,gBACA2B,OACA,OACAxB,YAAA,GACAe,KAAA,CACAC,KAAA,CACAnB,KAAA,GACAoB,MAAA,GACAG,IAAA,GACAC,QAAA,IAEAC,QAAA,IAEAJ,YAAA,EAEA,EACAO,SAAA,KACAC,EAAAA,EAAAA,IAAA,oBAEAC,MAAA,CACA1D,OACA,MAAA2D,EAAA,KACA,IAAAA,EAAA3D,KAAAC,MAAAC,OACAyD,EAAAV,YAAA,EAEAU,EAAAV,YAAA,CAEA,GAEAW,UACA,KAAAC,SACA,EACAC,QAAA,KACAC,EAAAA,EAAAA,IAAA,sBACArD,eAAAJ,GACA,KAAA0D,OAAAC,SAAA,oBAAA3D,EACA,EACA6B,gBACA,KAAA6B,OAAAC,SAAA,4BAAAlC,YACA,EAEA,oBACA,MAAA4B,EAAA,KACAO,EAAAP,EAAAb,KACAqB,QAAAC,EAAAA,EAAAA,IAAA,CAAAb,KAAAW,IACAC,EAAAZ,KAAAc,SACAV,EAAAW,QAAAC,KAAA,qBAAAJ,EAAAZ,KAAAiB,WAEAb,EAAAK,OAAAC,SAAA,0BACA,EACA3C,OAAAmD,EAAAC,EAAAxD,GACA,MAAAyD,EAAAC,OAAA1D,GAAA,EACA,KAAA8C,OAAAC,SAAA,oBAAAQ,MAAAC,MAAAC,UACA,EACA1D,SAAAwD,EAAAC,EAAAxD,GACA,MAAAyD,EAAAC,OAAA1D,GAAA,EACA,KAAA8C,OAAAC,SAAA,oBAAAQ,MAAAC,MAAAC,UACA,EACAxD,kBAAAsD,EAAAC,EAAAjE,GACA,MAAAkE,EAAAC,OAAAnE,EAAAwB,OAAAH,OACA,KAAAkC,OAAAC,SAAA,4BAAAQ,MAAAC,MAAAC,UACA,IChX2R,I,UCQvRE,GAAY,OACd,EACApF,EACA6D,GACA,EACA,KACA,WACA,MAIF,EAAeuB,EAAiB,O","sources":["webpack://maplestory-shop/./src/views/CustomerOrder.vue","webpack://maplestory-shop/src/views/CustomerOrder.vue","webpack://maplestory-shop/./src/views/CustomerOrder.vue?57a6","webpack://maplestory-shop/./src/views/CustomerOrder.vue?388d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"container py-5 cart\"},[_vm._m(0),_c('div',{staticClass:\"row d-flex justify-content-center\"},[(_vm.cart.carts.length !== 0)?_c('div',{staticClass:\"col-lg-10\"},[_c('div',{staticClass:\"table-responsive-sm\"},[_c('table',{staticClass:\"table mb-0\"},[_vm._m(1),_c('tbody',_vm._l((_vm.cart.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-maple btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\" 已套用優惠券 \")]):_vm._e()]),_c('td',{staticClass:\"align-middle\"},[_c('div',{staticClass:\"input-group\"},[_c('button',{staticClass:\"btn btn-outline-moderate btn-sm d-none d-sm-block mr-2\",on:{\"click\":function($event){return _vm.minusQty(item.id, item.product.id, item.qty)}}},[_c('i',{staticClass:\"fas fa-minus\"})]),_c('select',{staticClass:\"select-text-center form-control border-moderate\",attrs:{\"id\":\"qtySelect\"},on:{\"change\":function($event){return _vm.updateQtyBySelect(item.id, item.product.id, $event)}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(item.qty)+\" \")]),_vm._l((10),function(number){return _c('option',{key:number,domProps:{\"value\":number}},[_vm._v(\" \"+_vm._s(number)+\" \")])})],2),_c('button',{staticClass:\"btn btn-outline-moderate btn-sm d-none d-sm-block ml-2\",on:{\"click\":function($event){return _vm.addQty(item.id, item.product.id, item.qty)}}},[_c('i',{staticClass:\"fas fa-plus\"})])])]),_c('td',{staticClass:\"align-middle text-right\",class:{ 'text-success': item.coupon }},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.final_total))+\" \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" 總金額 \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.cart.total))+\" \")])]),(_vm.cart.total !== _vm.cart.final_total)?_c('tr',[_c('td',{staticClass:\"text-right text-success\",attrs:{\"colspan\":\"3\"}},[_vm._v(\" 折扣價 \")]),_c('td',{staticClass:\"text-right text-success\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.cart.final_total))+\" \")])]):_vm._e()])])]),_c('div',{staticClass:\"input-group input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing)return;_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-maple\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCouponCode}},[_vm._v(\" 套用優惠碼 \")])])])]):_c('div',{staticClass:\"col-lg-10\"},[_c('div',{staticClass:\"empty-cart text-center\"},[_c('p',{staticClass:\"mb-1\"},[_vm._v(\" 購物車沒有東西哦！快去逛逛吧！ \")]),_c('router-link',{staticClass:\"text-maple text-decoration-none\",attrs:{\"to\":\"/category\"}},[_vm._v(\" 進入商城 \")])],1)])])]),_c('div',{staticClass:\"container cart-form pb-5\"},[_vm._m(2),_c('div',{staticClass:\"row justify-content-center\"},[_c('ValidationObserver',{staticClass:\"col-lg-10\",scopedSlots:_vm._u([{key:\"default\",fn:function({ invalid }){return [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder.apply(null, arguments)}}},[_c('ValidationProvider',{attrs:{\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors, classes }){return [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userEmail\"}},[_c('i',{staticClass:\"fas fa-envelope\"}),_vm._v(\" Email (*) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"userEmail\",\"name\":\"E-mail\",\"type\":\"email\",\"placeholder\":\"請輸入 Email\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)}),_c('ValidationProvider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors, classes }){return [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userName\"}},[_c('i',{staticClass:\"fas fa-user\"}),_vm._v(\" 收件人姓名 (*) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"userName\",\"type\":\"text\",\"name\":\"Name\",\"placeholder\":\"輸入姓名\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)}),_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"rules\":\"required|numeric\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors, classes }){return [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userTel\"}},[_c('i',{staticClass:\"fas fa-phone\"}),_vm._v(\" 收件人電話 (*) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"userTel\",\"type\":\"tel\",\"placeholder\":\"請輸入電話\",\"name\":\"Telphone\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)}),_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors, classes }){return [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userAddress\"}},[_c('i',{staticClass:\"fas fa-map-marker-alt\"}),_vm._v(\" 收件人地址 (*) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"userAddress\",\"type\":\"text\",\"name\":\"Address\",\"placeholder\":\"請輸入地址\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)}),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_c('i',{staticClass:\"fas fa-comment-dots\"}),_vm._v(\" 留言 \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"comment\",\"name\":\"\",\"cols\":\"30\",\"rows\":\"10\",\"disabled\":_vm.isDisabled},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-maple btn-lg\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isDisabled || invalid}},[_vm._v(\" 送出訂單 \")])])],1)]}}])})],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-4 pb-2\"},[_vm._v(\" 購物車內容 \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('thead',{staticClass:\"thead-light\"},[_c('th'),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 商品名稱 \")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 數量 \")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 小計 \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-4 pb-2\"},[_vm._v(\" 購買資訊 \")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container py-5 cart\">\n      <div class=\"text-center\">\n        <h2 class=\"font-weight-bold mb-4 pb-2\">\n          購物車內容\n        </h2>\n      </div>\n      <div class=\"row d-flex justify-content-center\">\n        <div\n          v-if=\"cart.carts.length !== 0\"\n          class=\"col-lg-10\"\n        >\n          <div class=\"table-responsive-sm\">\n            <table class=\"table mb-0\">\n              <thead class=\"thead-light\">\n                <th />\n                <th class=\"text-nowrap\">\n                  商品名稱\n                </th>\n                <th class=\"text-nowrap\">\n                  數量\n                </th>\n                <th class=\"text-nowrap\">\n                  小計\n                </th>\n              </thead>\n              <tbody>\n                <tr\n                  v-for=\"item in cart.carts\"\n                  :key=\"item.id\"\n                >\n                  <td class=\"align-middle\">\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-maple btn-sm\"\n                      @click=\"removeCartItem(item.id)\"\n                    >\n                      <i class=\"far fa-trash-alt\" />\n                    </button>\n                  </td>\n                  <td class=\"align-middle\">\n                    {{ item.product.title }}\n                    <div\n                      v-if=\"item.coupon\"\n                      class=\"text-success\"\n                    >\n                      已套用優惠券\n                    </div>\n                  </td>\n                  <td class=\"align-middle\">\n                    <div class=\"input-group\">\n                      <button\n                        class=\"btn btn-outline-moderate btn-sm d-none d-sm-block mr-2\"\n                        @click=\"minusQty(item.id, item.product.id, item.qty)\"\n                      >\n                        <i class=\"fas fa-minus\" />\n                      </button>\n                      <select\n                        id=\"qtySelect\"\n                        class=\"select-text-center form-control border-moderate\"\n                        @change=\"\n                          updateQtyBySelect(item.id, item.product.id, $event)\n                        \"\n                      >\n                        <option\n                          selected\n                          disabled\n                        >\n                          {{ item.qty }}\n                        </option>\n                        <option\n                          v-for=\"number in 10\"\n                          :key=\"number\"\n                          :value=\"number\"\n                        >\n                          {{ number }}\n                        </option>\n                      </select>\n                      <button\n                        class=\"btn btn-outline-moderate btn-sm d-none d-sm-block ml-2\"\n                        @click=\"addQty(item.id, item.product.id, item.qty)\"\n                      >\n                        <i class=\"fas fa-plus\" />\n                      </button>\n                    </div>\n                  </td>\n                  <td\n                    class=\"align-middle text-right\"\n                    :class=\"{ 'text-success': item.coupon }\"\n                  >\n                    {{ item.final_total | currency }}\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td\n                    colspan=\"3\"\n                    class=\"text-right\"\n                  >\n                    總金額\n                  </td>\n                  <td class=\"text-right\">\n                    {{ cart.total | currency }}\n                  </td>\n                </tr>\n                <tr v-if=\"cart.total !== cart.final_total\">\n                  <td\n                    colspan=\"3\"\n                    class=\"text-right text-success\"\n                  >\n                    折扣價\n                  </td>\n                  <td class=\"text-right text-success\">\n                    {{ cart.final_total | currency }}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n          <div class=\"input-group input-group\">\n            <input\n              v-model=\"coupon_code\"\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入優惠碼\"\n            >\n            <div class=\"input-group-append\">\n              <button\n                class=\"btn btn-outline-maple\"\n                type=\"button\"\n                @click=\"addCouponCode\"\n              >\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n        </div>\n        <div\n          v-else\n          class=\"col-lg-10\"\n        >\n          <div class=\"empty-cart text-center\">\n            <p class=\"mb-1\">\n              購物車沒有東西哦！快去逛逛吧！\n            </p>\n            <router-link\n              to=\"/category\"\n              class=\"text-maple text-decoration-none\"\n            >\n              進入商城\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"container cart-form pb-5\">\n      <div class=\"text-center\">\n        <h2 class=\"font-weight-bold mb-4 pb-2\">\n          購買資訊\n        </h2>\n      </div>\n      <div class=\"row justify-content-center\">\n        <!-- validation-observer 驗證整體表單 -->\n        <ValidationObserver\n          v-slot=\"{ invalid }\"\n          class=\"col-lg-10\"\n        >\n          <!-- 表單送出改為使用 form submit 的方法 -->\n          <form\n            @submit.prevent=\"createOrder\"\n          >\n            <ValidationProvider\n              v-slot=\"{ errors, classes }\"\n              rules=\"required|email\"\n            >\n              <div class=\"form-group\">\n                <!-- 輸入框 -->\n                <label for=\"userEmail\">\n                  <i class=\"fas fa-envelope\" />\n                  Email (*)\n                </label>\n                <input\n                  id=\"userEmail\"\n                  v-model=\"form.user.email\"\n                  name=\"E-mail\"\n                  type=\"email\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入 Email\"\n                  :class=\"classes\"\n                  :disabled=\"isDisabled\"\n                >\n                <!-- 錯誤訊息 -->\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n\n            <ValidationProvider\n              v-slot=\"{ errors, classes }\"\n              rules=\"required\"\n            >\n              <div class=\"form-group\">\n                <label for=\"userName\">\n                  <i class=\"fas fa-user\" />\n                  收件人姓名 (*)\n                </label>\n                <input\n                  id=\"userName\"\n                  v-model=\"form.user.name\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  name=\"Name\"\n                  placeholder=\"輸入姓名\"\n                  :class=\"classes\"\n                  :disabled=\"isDisabled\"\n                >\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n\n            <ValidationProvider\n              v-slot=\"{ errors, classes }\"\n              class=\"form-group\"\n              rules=\"required|numeric\"\n            >\n              <div class=\"form-group\">\n                <label for=\"userTel\">\n                  <i class=\"fas fa-phone\" />\n                  收件人電話 (*)\n                </label>\n                <input\n                  id=\"userTel\"\n                  v-model=\"form.user.tel\"\n                  type=\"tel\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入電話\"\n                  name=\"Telphone\"\n                  :class=\"classes\"\n                  :disabled=\"isDisabled\"\n                >\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n\n            <ValidationProvider\n              v-slot=\"{ errors, classes }\"\n              class=\"form-group\"\n              rules=\"required\"\n            >\n              <div class=\"form-group\">\n                <label for=\"userAddress\">\n                  <i class=\"fas fa-map-marker-alt\" />\n                  收件人地址 (*)\n                </label>\n                <input\n                  id=\"userAddress\"\n                  v-model=\"form.user.address\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  name=\"Address\"\n                  placeholder=\"請輸入地址\"\n                  :class=\"classes\"\n                  :disabled=\"isDisabled\"\n                >\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n\n            <div class=\"form-group\">\n              <label for=\"comment\">\n                <i class=\"fas fa-comment-dots\" />\n                留言\n              </label>\n              <textarea\n                id=\"comment\"\n                v-model=\"form.message\"\n                name\n                class=\"form-control\"\n                cols=\"30\"\n                rows=\"10\"\n                :disabled=\"isDisabled\"\n              />\n            </div>\n\n            <!-- 送出表單使用 @submit 的方法，如果驗證未通過則 disabled 該按鈕 -->\n            <div class=\"text-right\">\n              <button\n                type=\"submit\"\n                class=\"btn btn-maple btn-lg\"\n                :disabled=\"isDisabled || invalid\"\n              >\n                送出訂單\n              </button>\n            </div>\n          </form>\n        </ValidationObserver>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { apiCreateOrder } from '@/api';\n\nexport default {\n  name: 'CustomerOrder',\n  data() {\n    return {\n      coupon_code: '',\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      isDisabled: true,\n    };\n  },\n  computed: {\n    ...mapGetters('global', ['cart']),\n  },\n  watch: {\n    cart() {\n      const vm = this;\n      if (vm.cart.carts.length !== 0) {\n        vm.isDisabled = false;\n      } else {\n        vm.isDisabled = true;\n      }\n    },\n  },\n  created() {\n    this.getCart();\n  },\n  methods: {\n    ...mapActions('global', ['getCart']),\n    removeCartItem(id) {\n      this.$store.dispatch('global/removeCart', id);\n    },\n    addCouponCode() {\n      this.$store.dispatch('global/addCouponCode', this.coupon_code);\n    },\n    // Validate Before Submit\n    async createOrder() {\n      const vm = this;\n      const order = vm.form;\n      const response = await apiCreateOrder({ data: order });\n      if (response.data.success) {\n        vm.$router.push(`/customerCheckout/${response.data.orderId}`);\n      }\n      vm.$store.dispatch('global/updateLoading', false);\n    },\n    addQty(cid, pid, qty) {\n      const newQty = Number(qty) + 1;\n      this.$store.dispatch('global/updateQty', { cid, pid, newQty });\n    },\n    minusQty(cid, pid, qty) {\n      const newQty = Number(qty) - 1;\n      this.$store.dispatch('global/updateQty', { cid, pid, newQty });\n    },\n    updateQtyBySelect(cid, pid, $event) {\n      const newQty = Number($event.target.value);\n      this.$store.dispatch('global/updateQtyBySelect', { cid, pid, newQty });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.cart {\n  h2 {\n    display: inline-block;\n    font-weight: 600;\n    border-bottom: 3px solid #c1170c;\n  }\n  .empty-cart {\n    background-color: #ededed;\n    border-radius: 10px;\n    padding: 30px 0px;\n  }\n  .select-text-center {\n    width: 100px !important;\n    text-align: justify;\n    text-align-last: center;\n    border-radius: 0.2rem !important;\n    flex: none;\n  }\n}\n\n.cart-form {\n  h2 {\n    display: inline-block;\n    font-weight: 600;\n    border-bottom: 3px solid #c1170c;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomerOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomerOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerOrder.vue?vue&type=template&id=1dfba9f1&scoped=true&\"\nimport script from \"./CustomerOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerOrder.vue?vue&type=style&index=0&id=1dfba9f1&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dfba9f1\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","cart","carts","length","_l","item","key","id","attrs","on","$event","removeCartItem","_v","_s","product","title","coupon","_e","minusQty","qty","updateQtyBySelect","number","domProps","addQty","class","_f","final_total","total","directives","name","rawName","value","coupon_code","expression","target","composing","addCouponCode","scopedSlots","_u","fn","invalid","preventDefault","createOrder","apply","arguments","errors","classes","form","user","email","isDisabled","$set","tel","address","message","staticRenderFns","data","computed","mapGetters","watch","vm","created","getCart","methods","mapActions","$store","dispatch","order","response","apiCreateOrder","success","$router","push","orderId","cid","pid","newQty","Number","component"],"sourceRoot":""}