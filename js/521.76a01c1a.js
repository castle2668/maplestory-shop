"use strict";(self["webpackChunkmaplestory_shop"]=self["webpackChunkmaplestory_shop"]||[]).push([[521],{4521:function(t,s,a){a.r(s),a.d(s,{default:function(){return c}});var e=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"container conform-cart py-5"},[t.order.is_paid?s("div",{staticClass:"text-center"},[s("h2",{staticClass:"font-weight-bold mb-3 pb-2"},[t._v(" 付款完成 ")]),s("p",{staticClass:"patronage mb-3"},[t._v(" 感謝您的購買，我們將會盡快出貨！ ")])]):s("div",{staticClass:"text-center"},[s("h2",{staticClass:"font-weight-bold mb-4 pb-2"},[t._v(" 確認訂單 ")])]),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-lg-10"},[t.order.is_paid?s("div",{staticClass:"banner"}):t._e(),s("form",{staticClass:"mb-3",on:{submit:function(s){return s.preventDefault(),t.payOrder.apply(null,arguments)}}},[t.order.is_paid?t._e():s("table",{staticClass:"table border-bottom mb-5"},[t._m(0),s("tbody",t._l(t.order.products,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" ")]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.qty)+"/"+t._s(a.product.unit)+" ")]),s("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(a.final_total))+" ")])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(" 總計 ")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(t.order.total))+" ")])])])]),t.order.is_paid?t._e():s("div",{staticClass:"text-center"},[s("h2",{staticClass:"font-weight-bold mb-4 pb-2"},[t._v(" 訂單資訊 ")])]),s("table",{staticClass:"table border-bottom"},[s("tbody",[s("tr",[s("th",[t._v("Email")]),s("td",[t._v(t._s(t.order.user.email))])]),s("tr",[s("th",[t._v("姓名")]),s("td",[t._v(t._s(t.order.user.name))])]),s("tr",[s("th",[t._v("收件人電話")]),s("td",[t._v(t._s(t.order.user.tel))])]),s("tr",[s("th",[t._v("收件人地址")]),s("td",[t._v(t._s(t.order.user.address))])]),s("tr",[s("th",[t._v("付款狀態")]),s("td",[t.order.is_paid?s("span",{staticClass:"text-success"},[t._v("付款完成")]):s("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?s("div",{staticClass:"text-right"},[s("router-link",{staticClass:"btn btn-outline-maple",attrs:{to:"/"}},[t._v(" 取消購買 ")]),s("button",{staticClass:"btn ml-2 btn-maple"},[t._v(" 確認付款 ")])],1):s("div",{staticClass:"text-right"},[s("router-link",{staticClass:"btn btn-outline-maple",attrs:{to:"/"}},[t._v(" 回到首頁 ")]),s("router-link",{staticClass:"btn btn-maple ml-2 ml-md-2",attrs:{to:"/category"}},[t._v(" 繼續逛逛 ")])],1)])])])])])},r=[function(){var t=this,s=t._self._c;return s("thead",{staticClass:"thead-light"},[s("th",{staticClass:"text-nowrap"},[t._v(" 商品名稱 ")]),s("th",{staticClass:"text-nowrap"},[t._v(" 數量 ")]),s("th",{staticClass:"text-nowrap"},[t._v(" 單價 ")])])}],i=a(8513),d={name:"CustomerCheckout",data(){return{orderId:"",order:{user:{}},step:1}},created(){const t=this;t.orderId=t.$route.params.orderId,t.getOrder()},methods:{async getOrder(){const t=this;t.$store.dispatch("global/updateLoading",!0);const s=await(0,i.IP)(t.orderId);t.order=s.data.order,t.$store.dispatch("global/updateLoading",!1)},async payOrder(){const t=this;t.$store.dispatch("global/updateLoading",!0);const s=await(0,i.e6)(t.orderId);s.data.success&&(t.getOrder(),t.$store.dispatch("global/updateMessage",{message:"已完成付款！",status:"success"})),t.$store.dispatch("global/updateLoading",!1)}}},o=d,l=a(3736),n=(0,l.Z)(o,e,r,!1,null,"4251b534",null),c=n.exports}}]);
//# sourceMappingURL=521.76a01c1a.js.map