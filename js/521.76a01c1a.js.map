{"version":3,"file":"js/521.76a01c1a.js","mappings":"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","sources":["webpack://maplestory-shop/./src/views/CustomerCheckout.vue","webpack://maplestory-shop/src/views/CustomerCheckout.vue","webpack://maplestory-shop/./src/views/CustomerCheckout.vue?deab","webpack://maplestory-shop/./src/views/CustomerCheckout.vue?cead"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"container conform-cart py-5\"},[(!_vm.order.is_paid)?_c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-4 pb-2\"},[_vm._v(\" 確認訂單 \")])]):_c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-3 pb-2\"},[_vm._v(\" 付款完成 \")]),_c('p',{staticClass:\"patronage mb-3\"},[_vm._v(\" 感謝您的購買，我們將會盡快出貨！ \")])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-lg-10\"},[(_vm.order.is_paid)?_c('div',{staticClass:\"banner\"}):_vm._e(),_c('form',{staticClass:\"mb-3\",on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder.apply(null, arguments)}}},[(!_vm.order.is_paid)?_c('table',{staticClass:\"table border-bottom mb-5\"},[_vm._m(0),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit)+\" \")]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.final_total))+\" \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\" 總計 \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.order.total))+\" \")])])])]):_vm._e(),(!_vm.order.is_paid)?_c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"font-weight-bold mb-4 pb-2\"},[_vm._v(\" 訂單資訊 \")])]):_vm._e(),_c('table',{staticClass:\"table border-bottom\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"收件人電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"收件人地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',[_vm._v(\"付款狀態\")]),_c('td',[(!_vm.order.is_paid)?_c('span',[_vm._v(\"尚未付款\")]):_c('span',{staticClass:\"text-success\"},[_vm._v(\"付款完成\")])])])])]),(_vm.order.is_paid === false)?_c('div',{staticClass:\"text-right\"},[_c('router-link',{staticClass:\"btn btn-outline-maple\",attrs:{\"to\":\"/\"}},[_vm._v(\" 取消購買 \")]),_c('button',{staticClass:\"btn ml-2 btn-maple\"},[_vm._v(\" 確認付款 \")])],1):_c('div',{staticClass:\"text-right\"},[_c('router-link',{staticClass:\"btn btn-outline-maple\",attrs:{\"to\":\"/\"}},[_vm._v(\" 回到首頁 \")]),_c('router-link',{staticClass:\"btn btn-maple ml-2 ml-md-2\",attrs:{\"to\":\"/category\"}},[_vm._v(\" 繼續逛逛 \")])],1)])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',{staticClass:\"thead-light\"},[_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 商品名稱 \")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 數量 \")]),_c('th',{staticClass:\"text-nowrap\"},[_vm._v(\" 單價 \")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container conform-cart py-5\">\n      <div\n        v-if=\"!order.is_paid\"\n        class=\"text-center\"\n      >\n        <h2 class=\"font-weight-bold mb-4 pb-2\">\n          確認訂單\n        </h2>\n      </div>\n      <div\n        v-else\n        class=\"text-center\"\n      >\n        <h2 class=\"font-weight-bold mb-3 pb-2\">\n          付款完成\n        </h2>\n        <p class=\"patronage mb-3\">\n          感謝您的購買，我們將會盡快出貨！\n        </p>\n      </div>\n      <div class=\"row justify-content-center\">\n        <div class=\"col-lg-10\">\n          <div\n            v-if=\"order.is_paid\"\n            class=\"banner\"\n          />\n          <form\n            class=\"mb-3\"\n            @submit.prevent=\"payOrder\"\n          >\n            <table\n              v-if=\"!order.is_paid\"\n              class=\"table border-bottom mb-5\"\n            >\n              <thead class=\"thead-light\">\n                <th class=\"text-nowrap\">\n                  商品名稱\n                </th>\n                <th class=\"text-nowrap\">\n                  數量\n                </th>\n                <th class=\"text-nowrap\">\n                  單價\n                </th>\n              </thead>\n              <tbody>\n                <tr\n                  v-for=\"item in order.products\"\n                  :key=\"item.id\"\n                >\n                  <td class=\"align-middle\">\n                    {{ item.product.title }}\n                  </td>\n                  <td class=\"align-middle\">\n                    {{ item.qty }}/{{ item.product.unit }}\n                  </td>\n                  <td class=\"align-middle text-right\">\n                    {{ item.final_total | currency }}\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td\n                    colspan=\"2\"\n                    class=\"text-right\"\n                  >\n                    總計\n                  </td>\n                  <td class=\"text-right\">\n                    {{ order.total | currency }}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n            <div\n              v-if=\"!order.is_paid\"\n              class=\"text-center\"\n            >\n              <h2 class=\"font-weight-bold mb-4 pb-2\">\n                訂單資訊\n              </h2>\n            </div>\n            <table class=\"table border-bottom\">\n              <tbody>\n                <tr>\n                  <th>Email</th>\n                  <td>{{ order.user.email }}</td>\n                </tr>\n                <tr>\n                  <th>姓名</th>\n                  <td>{{ order.user.name }}</td>\n                </tr>\n                <tr>\n                  <th>收件人電話</th>\n                  <td>{{ order.user.tel }}</td>\n                </tr>\n                <tr>\n                  <th>收件人地址</th>\n                  <td>{{ order.user.address }}</td>\n                </tr>\n                <tr>\n                  <th>付款狀態</th>\n                  <td>\n                    <span v-if=\"!order.is_paid\">尚未付款</span>\n                    <span\n                      v-else\n                      class=\"text-success\"\n                    >付款完成</span>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div\n              v-if=\"order.is_paid === false\"\n              class=\"text-right\"\n            >\n              <router-link\n                to=\"/\"\n                class=\"btn btn-outline-maple\"\n              >\n                取消購買\n              </router-link>\n              <button class=\"btn ml-2 btn-maple\">\n                確認付款\n              </button>\n            </div>\n            <div\n              v-else\n              class=\"text-right\"\n            >\n              <router-link\n                to=\"/\"\n                class=\"btn btn-outline-maple\"\n              >\n                回到首頁\n              </router-link>\n              <router-link\n                to=\"/category\"\n                class=\"btn btn-maple ml-2 ml-md-2\"\n              >\n                繼續逛逛\n              </router-link>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiGetOrder, apiPayOrder } from '@/api';\n\nexport default {\n  name: 'CustomerCheckout',\n  data() {\n    return {\n      orderId: '',\n      order: {\n        user: {},\n      },\n      step: 1,\n    };\n  },\n  created() {\n    const vm = this;\n    vm.orderId = vm.$route.params.orderId;\n    vm.getOrder();\n  },\n  methods: {\n    async getOrder() {\n      const vm = this;\n      vm.$store.dispatch('global/updateLoading', true);\n      const response = await apiGetOrder(vm.orderId);\n      vm.order = response.data.order;\n      vm.$store.dispatch('global/updateLoading', false);\n    },\n    async payOrder() {\n      const vm = this;\n      vm.$store.dispatch('global/updateLoading', true);\n      const response = await apiPayOrder(vm.orderId);\n      if (response.data.success) {\n        vm.getOrder();\n        vm.$store.dispatch('global/updateMessage', {\n          message: '已完成付款！',\n          status: 'success',\n        });\n      }\n      vm.$store.dispatch('global/updateLoading', false);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.conform-cart {\n  h2 {\n    display: inline-block;\n    font-weight: 600;\n    border-bottom: 3px solid #c1170c;\n  }\n  p.patronage {\n    @media (min-width: 321px) {\n      font-size: 1.2rem;\n    }\n    @media (min-width: 576px) {\n      font-size: 1.5rem;\n    }\n  }\n}\n\n.banner {\n  background-image: url(../assets/images/Banner/thanks.jpg);\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: left center;\n  height: 300px;\n  @media (min-width: 992px) {\n    height: 500px;\n    background-position: center center;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomerCheckout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomerCheckout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerCheckout.vue?vue&type=template&id=4251b534&scoped=true&\"\nimport script from \"./CustomerCheckout.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerCheckout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerCheckout.vue?vue&type=style&index=0&id=4251b534&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4251b534\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","order","is_paid","_v","_e","on","$event","preventDefault","payOrder","apply","arguments","_m","_l","products","item","key","id","_s","product","title","qty","unit","_f","final_total","attrs","total","user","email","name","tel","address","staticRenderFns","data","orderId","step","created","vm","$route","params","getOrder","methods","$store","dispatch","response","apiGetOrder","apiPayOrder","success","message","status","component"],"sourceRoot":""}